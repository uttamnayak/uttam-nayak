{% schema %}
{
  "name": "Dual Promo Blocks",
  "settings": [
    {
      "type": "text",
      "id": "section_title",
      "label": "Section Title",
      "default": "Discover Your Lash & Brow Essentials"
    },
    {
      "type": "textarea",
      "id": "section_description",
      "label": "Section Description",
      "default": "Explore our curated collection of lash and brow products tailored to your beauty needs."
    },
    {
      "type": "range",
      "id": "section_padding",
      "label": "Section Padding",
      "default": 40,
      "min": 0,
      "max": 100,
      "unit": "px"
    }
  ],
  "blocks": [
    {
      "type": "promo_block",
      "name": "Promo Block",
      "settings": [
        { "type": "image_picker", "id": "background_image", "label": "Background Image" },
        { "type": "text", "id": "small_heading", "label": "Small Heading", "default": "LASH SERUM" },
        { "type": "text", "id": "main_heading", "label": "Main Heading", "default": "Your Go-To Lashes" },
        { "type": "textarea", "id": "description", "label": "Description", "default": "Clean, gentle, and powerful serum for stunning lashes." },
        { "type": "text", "id": "button_label", "label": "Button Label", "default": "Shop Now" },
        { "type": "url", "id": "button_link", "label": "Button Link", "default": "/collections/all" },
		{ "type": "color", "id": "small_heading_color", "label": "Small Heading Color", "default": "#ff69b4" },
{ "type": "range", "id": "small_heading_size", "label": "Small Heading Font Size", "default": 16, "min": 10, "max": 40, "unit": "px" },
{ "type": "color", "id": "main_heading_color", "label": "Main Heading Color", "default": "#ffffff" },
{ "type": "range", "id": "main_heading_size", "label": "Main Heading Font Size", "default": 28, "min": 16, "max": 60, "unit": "px" },
{ "type": "color", "id": "description_color", "label": "Description Color", "default": "#ffffff" },
{ "type": "range", "id": "description_size", "label": "Description Font Size", "default": 16, "min": 10, "max": 30, "unit": "px" },
        { "type": "color", "id": "background_color", "label": "Background Color", "default": "#ffffff" },
        { "type": "color", "id": "text_color", "label": "Text Color", "default": "#000000" },
        { "type": "color", "id": "hover_text_color", "label": "Hover Text Color", "default": "#ffffff" },
        { "type": "color", "id": "button_bg_color", "label": "Button Background Color", "default": "#ff69b4" },
        { "type": "color", "id": "button_hover_bg_color", "label": "Button Hover Background Color", "default": "#000000" }
      ]
    }
  ],
  "presets": [
    {
      "name": "Dual Promo Default",
      "category": "Custom"
    }
  ]
}
{% endschema %}

<section style="padding: {{ section.settings.section_padding }}px;">
  <div class="section-header">
    <h2>{{ section.settings.section_title }}</h2>
    <p>{{ section.settings.section_description }}</p>
  </div>
  <div class="promo-wrapper">
    
  {% for block in section.blocks %}
    <div class="promo-block" style="background-color: {{ block.settings.background_color }};">
      <div class="promo-content" style="background-image: url({{ block.settings.background_image | image_url }});">
        <h4 style="color: {{ block.settings.small_heading_color }}; font-size: {{ block.settings.small_heading_size }}px;">
  {{ block.settings.small_heading }}
</h4>

          <h2 style="color: {{ block.settings.main_heading_color }}; font-size: {{ block.settings.main_heading_size }}px;">
  {{ block.settings.main_heading }}
</h2>

          <p style="color: {{ block.settings.description_color }}; font-size: {{ block.settings.description_size }}px;">
  {{ block.settings.description }}
</p>
          <a href="{{ block.settings.button_link }}" class="promo-button"
             style="background-color: {{ block.settings.button_bg_color }}; color: {{ block.settings.text_color }};"
             onmouseover="this.style.backgroundColor='{{ block.settings.button_hover_bg_color }}'; this.style.color='{{ block.settings.hover_text_color }}';"
             onmouseout="this.style.backgroundColor='{{ block.settings.button_bg_color }}'; this.style.color='{{ block.settings.text_color }}';">
            {{ block.settings.button_label }}
          </a>
      </div>
    </div>
  {% endfor %}

    
  </div>
</section>

<style>
  .promo-wrapper {
    display: flex;
    flex-wrap: wrap;
    gap: 20px;
    margin: 0 auto;
    max-width: 1200px;
  }

  .promo-block {
    flex: 1 1 100%;
    box-sizing: border-box;
  }

  @media (min-width: 768px) {
    .promo-block {
      flex: 1 1 calc(50% - 10px); /* subtract gap to avoid overflow */
    }
  }

  .promo-content {
  position: relative;
  display: flex;
  flex-direction: column;
  justify-content: flex-end; /* Push content to bottom */
  padding: 30px;
  height: 100%;
  background-size: cover;
  background-position: center;
  color: #fff;
  overflow: hidden;
  align-items: flex-start;
}

.promo-content::before {
  content: "";
  position: absolute;
  inset: 0;
  background: linear-gradient(to top, rgba(0,0,0,0.7), rgba(0,0,0,0.2));
  z-index: 1;
}

.promo-content > * {
  position: relative;
  z-index: 2;
}

  .promo-button {
  display: inline-block; /* ensures it wraps to content */
  width: auto;            /* prevents 100% width */
  padding: 10px 20px;
  margin-top: 15px;
  text-decoration: none;
  transition: all 0.3s ease;
  border: none;
  cursor: pointer;
}


  .section-header {
    text-align: center;
    margin-bottom: 30px;
  }
</style>